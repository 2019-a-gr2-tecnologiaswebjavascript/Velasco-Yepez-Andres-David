<div class="d-flex justify-content-lg-start">
  <div class="p-2 formulario">
    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h3>Buscar Producto</h3>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <form
          #formularioBusquedaProducto="ngForm"
          novalidate
          (submit)="buscarProducto()"
          (change)="buscarProducto()"
          (input)="buscarProducto()"
        >
          <mat-form-field class="full-width">
            <input matInput placeholder="nombre del producto" name="nombre" id="nombre"
                   [(ngModel)]="nombre">
          </mat-form-field>

          <button mat-raised-button  type="submit">
            Buscar
          </button>
        </form>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>

<div class="d-flex justify-content-between">
  <div class="p-2 flex-fill">
    <table class="table table-hover table-dark">
      <thead>
      <tr>
        <th>Id</th>
        <th>Nombre</th>
        <th>Codigo</th>
        <th>Acciones</th>
      </tr>
      </thead>
      <tbody *ngIf="!estaBuscando">
      <tr *ngFor="let producto of  listaProductos">
        <td> {{ producto.id }} </td>
        <td> {{ producto.nombre}} </td>
        <td> {{ producto.codigo }} </td>
        <td><button mat-raised-button color="accent">Comprar</button></td>
        <td><button mat-raised-button color="primary" [routerLink]="['/producto',producto.id,'actualizar']">Actualizar</button></td>
        <td><button mat-raised-button color="warn" (click)="borrarProducto(producto)">Borrar</button></td>
      </tr>
      </tbody>
    </table>

  </div>

</div>

<div class="d-flex justify-content-center" *ngIf="estaBuscando">
  <div class="spinner-grow text-success" role="status">
    <span class="sr-only">Loading...</span>
  </div>
  <div class="spinner-grow text-danger" role="status">
    <span class="sr-only">Loading...</span>
  </div>
  <div class="spinner-grow text-warning" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>



